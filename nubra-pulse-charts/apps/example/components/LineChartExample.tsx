import React, { useState } from 'react';
import { View, StyleSheet, ScrollView, Text } from 'react-native';
import { LineChart } from '@pulse/rn';

const LineChartExample: React.FC = () => {
  const [selectedLabel, setSelectedLabel] = useState<string | null>(null);

  // Sample data - price over time
  const priceData = [
    100, 102, 98, 105, 103, 107, 110, 108, 112, 115, 113, 118, 120, 122, 125, 123, 128, 130, 132,
    135, 133, 138, 140, 142, 145, 143, 148, 150,
  ];

  const volumeData = [
    1000, 1200, 800, 1500, 1100, 1800, 2000, 1600, 2200, 2400, 2100, 2800, 3000, 3200, 3500,
    3300, 3800, 4000, 4200, 4500, 4300, 4800, 5000, 5200, 5500, 5300, 5800, 6000,
  ];

  // Generate timestamps for market hours: 9:30 AM to 4:00 PM
  // Set market close time a few hours in the future to demonstrate empty space feature
  const now = new Date();
  const marketStartTime = new Date(now);
  marketStartTime.setHours(9, 30, 0, 0);
  const marketCloseTime = new Date(now);
  marketCloseTime.setHours(16, 0, 0, 0);
  
  // For testing: if current time is before market close, set close time to 2 hours from now
  // This ensures we can see the empty space feature
  if (now.getTime() < marketCloseTime.getTime()) {
    marketCloseTime.setTime(now.getTime() + 2 * 60 * 60 * 1000); // 2 hours from now
  }
  
  // Generate timestamps for price data (evenly spaced throughout market hours)
  const priceTimestamps = priceData.map((_, i) => {
    const totalDuration = marketCloseTime.getTime() - marketStartTime.getTime();
    const interval = totalDuration / (priceData.length - 1);
    return marketStartTime.getTime() + i * interval;
  });

  // Generate timestamps for volume data (evenly spaced throughout market hours)
  const volumeTimestamps = volumeData.map((_, i) => {
    const totalDuration = marketCloseTime.getTime() - marketStartTime.getTime();
    const interval = totalDuration / (volumeData.length - 1);
    return marketStartTime.getTime() + i * interval;
  });

  // Generate trend data
  const trendData = Array.from({ length: 50 }, (_, i) => {
    return 50 + Math.sin(i / 4) * 20 + (i * 0.5) + Math.random() * 10;
  });

  // Process API response format (simulating real data)
  const processApiResponse = () => {
    // Simulated API response data
    // const apiResponse = {
    //   market_time: "2026-01-02T06:35:17.049411226Z",
    //   result: [
    //     {
    //       exchange: "NSE",
    //       type: "INDEX",
    //       values: [
    //         {
    //           NIFTY: {
    //             close: [
    //               { ts: 1767325500000000000, v: 2617285 },
    //               { ts: 1767325560000000000, v: 2617060 },
    //               { ts: 1767325620000000000, v: 2617080 },
    //               { ts: 1767325680000000000, v: 2617240 },
    //               { ts: 1767325740000000000, v: 2618115 },
    //               { ts: 1767325800000000000, v: 2618580 },
    //             ],
    //           },
    //         },
    //       ],
    //     },
    //   ],
    // };
    const apiResponse = {
      "market_time": "2026-01-02T07:29:05.500139847Z",
      "message": "charts",
      "result": [
          {
              "exchange": "NSE",
              "type": "INDEX",
              "values": [
                  {
                      "NIFTY": {
                          "close": [
                              {
                                  "ts": 1767325500000000000,
                                  "v": 2617285
                              },
                              {
                                  "ts": 1767325560000000000,
                                  "v": 2617060
                              },
                              {
                                  "ts": 1767325620000000000,
                                  "v": 2617080
                              },
                              {
                                  "ts": 1767325680000000000,
                                  "v": 2617240
                              },
                              {
                                  "ts": 1767325740000000000,
                                  "v": 2618115
                              },
                              {
                                  "ts": 1767325800000000000,
                                  "v": 2618580
                              },
                              {
                                  "ts": 1767325860000000000,
                                  "v": 2618270
                              },
                              {
                                  "ts": 1767325920000000000,
                                  "v": 2619205
                              },
                              {
                                  "ts": 1767325980000000000,
                                  "v": 2619965
                              },
                              {
                                  "ts": 1767326040000000000,
                                  "v": 2619225
                              },
                              {
                                  "ts": 1767326100000000000,
                                  "v": 2618820
                              },
                              {
                                  "ts": 1767326160000000000,
                                  "v": 2618885
                              },
                              {
                                  "ts": 1767326220000000000,
                                  "v": 2620130
                              },
                              {
                                  "ts": 1767326280000000000,
                                  "v": 2620635
                              },
                              {
                                  "ts": 1767326340000000000,
                                  "v": 2620645
                              },
                              {
                                  "ts": 1767326400000000000,
                                  "v": 2620065
                              },
                              {
                                  "ts": 1767326460000000000,
                                  "v": 2620230
                              },
                              {
                                  "ts": 1767326520000000000,
                                  "v": 2621450
                              },
                              {
                                  "ts": 1767326580000000000,
                                  "v": 2620370
                              },
                              {
                                  "ts": 1767326640000000000,
                                  "v": 2619890
                              },
                              {
                                  "ts": 1767326700000000000,
                                  "v": 2619760
                              },
                              {
                                  "ts": 1767326760000000000,
                                  "v": 2620430
                              },
                              {
                                  "ts": 1767326820000000000,
                                  "v": 2620355
                              },
                              {
                                  "ts": 1767326880000000000,
                                  "v": 2620305
                              },
                              {
                                  "ts": 1767326940000000000,
                                  "v": 2621185
                              },
                              {
                                  "ts": 1767327000000000000,
                                  "v": 2621425
                              },
                              {
                                  "ts": 1767327060000000000,
                                  "v": 2622865
                              },
                              {
                                  "ts": 1767327120000000000,
                                  "v": 2623725
                              },
                              {
                                  "ts": 1767327180000000000,
                                  "v": 2624005
                              },
                              {
                                  "ts": 1767327240000000000,
                                  "v": 2624690
                              },
                              {
                                  "ts": 1767327300000000000,
                                  "v": 2624715
                              },
                              {
                                  "ts": 1767327360000000000,
                                  "v": 2624845
                              },
                              {
                                  "ts": 1767327420000000000,
                                  "v": 2625205
                              },
                              {
                                  "ts": 1767327480000000000,
                                  "v": 2625630
                              },
                              {
                                  "ts": 1767327540000000000,
                                  "v": 2625360
                              },
                              {
                                  "ts": 1767327600000000000,
                                  "v": 2625705
                              },
                              {
                                  "ts": 1767327660000000000,
                                  "v": 2625965
                              },
                              {
                                  "ts": 1767327720000000000,
                                  "v": 2626710
                              },
                              {
                                  "ts": 1767327780000000000,
                                  "v": 2626265
                              },
                              {
                                  "ts": 1767327840000000000,
                                  "v": 2626800
                              },
                              {
                                  "ts": 1767327900000000000,
                                  "v": 2626320
                              },
                              {
                                  "ts": 1767327960000000000,
                                  "v": 2626445
                              },
                              {
                                  "ts": 1767328020000000000,
                                  "v": 2626245
                              },
                              {
                                  "ts": 1767328080000000000,
                                  "v": 2625940
                              },
                              {
                                  "ts": 1767328140000000000,
                                  "v": 2625405
                              },
                              {
                                  "ts": 1767328200000000000,
                                  "v": 2625385
                              },
                              {
                                  "ts": 1767328260000000000,
                                  "v": 2625525
                              },
                              {
                                  "ts": 1767328320000000000,
                                  "v": 2625970
                              },
                              {
                                  "ts": 1767328380000000000,
                                  "v": 2625440
                              },
                              {
                                  "ts": 1767328440000000000,
                                  "v": 2625310
                              },
                              {
                                  "ts": 1767328500000000000,
                                  "v": 2625135
                              },
                              {
                                  "ts": 1767328560000000000,
                                  "v": 2625090
                              },
                              {
                                  "ts": 1767328620000000000,
                                  "v": 2624925
                              },
                              {
                                  "ts": 1767328680000000000,
                                  "v": 2624480
                              },
                              {
                                  "ts": 1767328740000000000,
                                  "v": 2624175
                              },
                              {
                                  "ts": 1767328800000000000,
                                  "v": 2624385
                              },
                              {
                                  "ts": 1767328860000000000,
                                  "v": 2624200
                              },
                              {
                                  "ts": 1767328920000000000,
                                  "v": 2624320
                              },
                              {
                                  "ts": 1767328980000000000,
                                  "v": 2624265
                              },
                              {
                                  "ts": 1767329040000000000,
                                  "v": 2625460
                              },
                              {
                                  "ts": 1767329100000000000,
                                  "v": 2626170
                              },
                              {
                                  "ts": 1767329160000000000,
                                  "v": 2626210
                              },
                              {
                                  "ts": 1767329220000000000,
                                  "v": 2625660
                              },
                              {
                                  "ts": 1767329280000000000,
                                  "v": 2625495
                              },
                              {
                                  "ts": 1767329340000000000,
                                  "v": 2625115
                              },
                              {
                                  "ts": 1767329400000000000,
                                  "v": 2625340
                              },
                              {
                                  "ts": 1767329460000000000,
                                  "v": 2625320
                              },
                              {
                                  "ts": 1767329520000000000,
                                  "v": 2624920
                              },
                              {
                                  "ts": 1767329580000000000,
                                  "v": 2624740
                              },
                              {
                                  "ts": 1767329640000000000,
                                  "v": 2625300
                              },
                              {
                                  "ts": 1767329700000000000,
                                  "v": 2624885
                              },
                              {
                                  "ts": 1767329760000000000,
                                  "v": 2625070
                              },
                              {
                                  "ts": 1767329820000000000,
                                  "v": 2624830
                              },
                              {
                                  "ts": 1767329880000000000,
                                  "v": 2624650
                              },
                              {
                                  "ts": 1767329940000000000,
                                  "v": 2624615
                              },
                              {
                                  "ts": 1767330000000000000,
                                  "v": 2624345
                              },
                              {
                                  "ts": 1767330060000000000,
                                  "v": 2624575
                              },
                              {
                                  "ts": 1767330120000000000,
                                  "v": 2623875
                              },
                              {
                                  "ts": 1767330180000000000,
                                  "v": 2623900
                              },
                              {
                                  "ts": 1767330240000000000,
                                  "v": 2624000
                              },
                              {
                                  "ts": 1767330300000000000,
                                  "v": 2624505
                              },
                              {
                                  "ts": 1767330360000000000,
                                  "v": 2625010
                              },
                              {
                                  "ts": 1767330420000000000,
                                  "v": 2624735
                              },
                              {
                                  "ts": 1767330480000000000,
                                  "v": 2624980
                              },
                              {
                                  "ts": 1767330540000000000,
                                  "v": 2625385
                              },
                              {
                                  "ts": 1767330600000000000,
                                  "v": 2624950
                              },
                              {
                                  "ts": 1767330660000000000,
                                  "v": 2625720
                              },
                              {
                                  "ts": 1767330720000000000,
                                  "v": 2625515
                              },
                              {
                                  "ts": 1767330780000000000,
                                  "v": 2625275
                              },
                              {
                                  "ts": 1767330840000000000,
                                  "v": 2625350
                              },
                              {
                                  "ts": 1767330900000000000,
                                  "v": 2625545
                              },
                              {
                                  "ts": 1767330960000000000,
                                  "v": 2625770
                              },
                              {
                                  "ts": 1767331020000000000,
                                  "v": 2626185
                              },
                              {
                                  "ts": 1767331080000000000,
                                  "v": 2625960
                              },
                              {
                                  "ts": 1767331140000000000,
                                  "v": 2626120
                              },
                              {
                                  "ts": 1767331200000000000,
                                  "v": 2626470
                              },
                              {
                                  "ts": 1767331260000000000,
                                  "v": 2626405
                              },
                              {
                                  "ts": 1767331320000000000,
                                  "v": 2626090
                              },
                              {
                                  "ts": 1767331380000000000,
                                  "v": 2625935
                              },
                              {
                                  "ts": 1767331440000000000,
                                  "v": 2625980
                              },
                              {
                                  "ts": 1767331500000000000,
                                  "v": 2625820
                              },
                              {
                                  "ts": 1767331560000000000,
                                  "v": 2625535
                              },
                              {
                                  "ts": 1767331620000000000,
                                  "v": 2625845
                              },
                              {
                                  "ts": 1767331680000000000,
                                  "v": 2625910
                              },
                              {
                                  "ts": 1767331740000000000,
                                  "v": 2626215
                              },
                              {
                                  "ts": 1767331800000000000,
                                  "v": 2626135
                              },
                              {
                                  "ts": 1767331860000000000,
                                  "v": 2626070
                              },
                              {
                                  "ts": 1767331920000000000,
                                  "v": 2625640
                              },
                              {
                                  "ts": 1767331980000000000,
                                  "v": 2625570
                              },
                              {
                                  "ts": 1767332040000000000,
                                  "v": 2625730
                              },
                              {
                                  "ts": 1767332100000000000,
                                  "v": 2625835
                              },
                              {
                                  "ts": 1767332160000000000,
                                  "v": 2625590
                              },
                              {
                                  "ts": 1767332220000000000,
                                  "v": 2625205
                              },
                              {
                                  "ts": 1767332280000000000,
                                  "v": 2625080
                              },
                              {
                                  "ts": 1767332340000000000,
                                  "v": 2625225
                              },
                              {
                                  "ts": 1767332400000000000,
                                  "v": 2625090
                              },
                              {
                                  "ts": 1767332460000000000,
                                  "v": 2624560
                              },
                              {
                                  "ts": 1767332520000000000,
                                  "v": 2625170
                              },
                              {
                                  "ts": 1767332580000000000,
                                  "v": 2625515
                              },
                              {
                                  "ts": 1767332640000000000,
                                  "v": 2625405
                              },
                              {
                                  "ts": 1767332700000000000,
                                  "v": 2625390
                              },
                              {
                                  "ts": 1767332760000000000,
                                  "v": 2625525
                              },
                              {
                                  "ts": 1767332820000000000,
                                  "v": 2625945
                              },
                              {
                                  "ts": 1767332880000000000,
                                  "v": 2626475
                              },
                              {
                                  "ts": 1767332940000000000,
                                  "v": 2626205
                              },
                              {
                                  "ts": 1767333000000000000,
                                  "v": 2626465
                              }
                          ],
                          "cumulative_volume": [
                              {
                                  "ts": 1767325500000000000,
                                  "v": 12960154
                              },
                              {
                                  "ts": 1767325560000000000,
                                  "v": 18771982
                              },
                              {
                                  "ts": 1767325620000000000,
                                  "v": 22926517
                              },
                              {
                                  "ts": 1767325680000000000,
                                  "v": 26916636
                              },
                              {
                                  "ts": 1767325740000000000,
                                  "v": 29741279
                              },
                              {
                                  "ts": 1767325800000000000,
                                  "v": 32675654
                              },
                              {
                                  "ts": 1767325860000000000,
                                  "v": 34945082
                              },
                              {
                                  "ts": 1767325920000000000,
                                  "v": 37376446
                              },
                              {
                                  "ts": 1767325980000000000,
                                  "v": 38857402
                              },
                              {
                                  "ts": 1767326040000000000,
                                  "v": 40521741
                              },
                              {
                                  "ts": 1767326100000000000,
                                  "v": 41862943
                              },
                              {
                                  "ts": 1767326160000000000,
                                  "v": 43521658
                              },
                              {
                                  "ts": 1767326220000000000,
                                  "v": 45021005
                              },
                              {
                                  "ts": 1767326280000000000,
                                  "v": 45981585
                              },
                              {
                                  "ts": 1767326340000000000,
                                  "v": 47441280
                              },
                              {
                                  "ts": 1767326400000000000,
                                  "v": 49663043
                              },
                              {
                                  "ts": 1767326460000000000,
                                  "v": 50551283
                              },
                              {
                                  "ts": 1767326520000000000,
                                  "v": 51747525
                              },
                              {
                                  "ts": 1767326580000000000,
                                  "v": 53822556
                              },
                              {
                                  "ts": 1767326640000000000,
                                  "v": 55007914
                              },
                              {
                                  "ts": 1767326700000000000,
                                  "v": 57083811
                              },
                              {
                                  "ts": 1767326760000000000,
                                  "v": 58180482
                              },
                              {
                                  "ts": 1767326820000000000,
                                  "v": 60151625
                              },
                              {
                                  "ts": 1767326880000000000,
                                  "v": 62479300
                              },
                              {
                                  "ts": 1767326940000000000,
                                  "v": 64413217
                              },
                              {
                                  "ts": 1767327000000000000,
                                  "v": 65617761
                              },
                              {
                                  "ts": 1767327060000000000,
                                  "v": 66932293
                              },
                              {
                                  "ts": 1767327120000000000,
                                  "v": 68470674
                              },
                              {
                                  "ts": 1767327180000000000,
                                  "v": 69414334
                              },
                              {
                                  "ts": 1767327240000000000,
                                  "v": 70246195
                              },
                              {
                                  "ts": 1767327300000000000,
                                  "v": 71144892
                              },
                              {
                                  "ts": 1767327360000000000,
                                  "v": 72163094
                              },
                              {
                                  "ts": 1767327420000000000,
                                  "v": 72920433
                              },
                              {
                                  "ts": 1767327480000000000,
                                  "v": 73990603
                              },
                              {
                                  "ts": 1767327540000000000,
                                  "v": 74950426
                              },
                              {
                                  "ts": 1767327600000000000,
                                  "v": 75639516
                              },
                              {
                                  "ts": 1767327660000000000,
                                  "v": 76270526
                              },
                              {
                                  "ts": 1767327720000000000,
                                  "v": 77328244
                              },
                              {
                                  "ts": 1767327780000000000,
                                  "v": 78432705
                              },
                              {
                                  "ts": 1767327840000000000,
                                  "v": 79134539
                              },
                              {
                                  "ts": 1767327900000000000,
                                  "v": 79846627
                              },
                              {
                                  "ts": 1767327960000000000,
                                  "v": 80768002
                              },
                              {
                                  "ts": 1767328020000000000,
                                  "v": 81618348
                              },
                              {
                                  "ts": 1767328080000000000,
                                  "v": 83169896
                              },
                              {
                                  "ts": 1767328140000000000,
                                  "v": 84074010
                              },
                              {
                                  "ts": 1767328200000000000,
                                  "v": 85854447
                              },
                              {
                                  "ts": 1767328260000000000,
                                  "v": 86739833
                              },
                              {
                                  "ts": 1767328320000000000,
                                  "v": 87472889
                              },
                              {
                                  "ts": 1767328380000000000,
                                  "v": 88500021
                              },
                              {
                                  "ts": 1767328440000000000,
                                  "v": 89550285
                              },
                              {
                                  "ts": 1767328500000000000,
                                  "v": 90229492
                              },
                              {
                                  "ts": 1767328560000000000,
                                  "v": 90966012
                              },
                              {
                                  "ts": 1767328620000000000,
                                  "v": 91568489
                              },
                              {
                                  "ts": 1767328680000000000,
                                  "v": 92519385
                              },
                              {
                                  "ts": 1767328740000000000,
                                  "v": 93104625
                              },
                              {
                                  "ts": 1767328800000000000,
                                  "v": 93749081
                              },
                              {
                                  "ts": 1767328860000000000,
                                  "v": 94680378
                              },
                              {
                                  "ts": 1767328920000000000,
                                  "v": 95277717
                              },
                              {
                                  "ts": 1767328980000000000,
                                  "v": 95970286
                              },
                              {
                                  "ts": 1767329040000000000,
                                  "v": 97115386
                              },
                              {
                                  "ts": 1767329100000000000,
                                  "v": 98130737
                              },
                              {
                                  "ts": 1767329160000000000,
                                  "v": 99710897
                              },
                              {
                                  "ts": 1767329220000000000,
                                  "v": 101074006
                              },
                              {
                                  "ts": 1767329280000000000,
                                  "v": 102128711
                              },
                              {
                                  "ts": 1767329340000000000,
                                  "v": 102905097
                              },
                              {
                                  "ts": 1767329400000000000,
                                  "v": 103659787
                              },
                              {
                                  "ts": 1767329460000000000,
                                  "v": 104660805
                              },
                              {
                                  "ts": 1767329520000000000,
                                  "v": 106423866
                              },
                              {
                                  "ts": 1767329580000000000,
                                  "v": 107344784
                              },
                              {
                                  "ts": 1767329640000000000,
                                  "v": 108619614
                              },
                              {
                                  "ts": 1767329700000000000,
                                  "v": 109544838
                              },
                              {
                                  "ts": 1767329760000000000,
                                  "v": 110944024
                              },
                              {
                                  "ts": 1767329820000000000,
                                  "v": 111720123
                              },
                              {
                                  "ts": 1767329880000000000,
                                  "v": 112366819
                              },
                              {
                                  "ts": 1767329940000000000,
                                  "v": 113576444
                              },
                              {
                                  "ts": 1767330000000000000,
                                  "v": 114340505
                              },
                              {
                                  "ts": 1767330060000000000,
                                  "v": 115360073
                              },
                              {
                                  "ts": 1767330120000000000,
                                  "v": 116021033
                              },
                              {
                                  "ts": 1767330180000000000,
                                  "v": 116737764
                              },
                              {
                                  "ts": 1767330240000000000,
                                  "v": 117211825
                              },
                              {
                                  "ts": 1767330300000000000,
                                  "v": 117703677
                              },
                              {
                                  "ts": 1767330360000000000,
                                  "v": 118394782
                              },
                              {
                                  "ts": 1767330420000000000,
                                  "v": 119027055
                              },
                              {
                                  "ts": 1767330480000000000,
                                  "v": 119645396
                              },
                              {
                                  "ts": 1767330540000000000,
                                  "v": 120404037
                              },
                              {
                                  "ts": 1767330600000000000,
                                  "v": 121040723
                              },
                              {
                                  "ts": 1767330660000000000,
                                  "v": 122002625
                              },
                              {
                                  "ts": 1767330720000000000,
                                  "v": 123238999
                              },
                              {
                                  "ts": 1767330780000000000,
                                  "v": 124797554
                              },
                              {
                                  "ts": 1767330840000000000,
                                  "v": 126295707
                              },
                              {
                                  "ts": 1767330900000000000,
                                  "v": 127805601
                              },
                              {
                                  "ts": 1767330960000000000,
                                  "v": 128910997
                              },
                              {
                                  "ts": 1767331020000000000,
                                  "v": 130339195
                              },
                              {
                                  "ts": 1767331080000000000,
                                  "v": 131451697
                              },
                              {
                                  "ts": 1767331140000000000,
                                  "v": 132306953
                              },
                              {
                                  "ts": 1767331200000000000,
                                  "v": 133249498
                              },
                              {
                                  "ts": 1767331260000000000,
                                  "v": 133968046
                              },
                              {
                                  "ts": 1767331320000000000,
                                  "v": 135020326
                              },
                              {
                                  "ts": 1767331380000000000,
                                  "v": 135503185
                              },
                              {
                                  "ts": 1767331440000000000,
                                  "v": 136127895
                              },
                              {
                                  "ts": 1767331500000000000,
                                  "v": 136727408
                              },
                              {
                                  "ts": 1767331560000000000,
                                  "v": 137251692
                              },
                              {
                                  "ts": 1767331620000000000,
                                  "v": 137793742
                              },
                              {
                                  "ts": 1767331680000000000,
                                  "v": 138359913
                              },
                              {
                                  "ts": 1767331740000000000,
                                  "v": 139059610
                              },
                              {
                                  "ts": 1767331800000000000,
                                  "v": 139545676
                              },
                              {
                                  "ts": 1767331860000000000,
                                  "v": 140526158
                              },
                              {
                                  "ts": 1767331920000000000,
                                  "v": 140997024
                              },
                              {
                                  "ts": 1767331980000000000,
                                  "v": 141668095
                              },
                              {
                                  "ts": 1767332040000000000,
                                  "v": 142544858
                              },
                              {
                                  "ts": 1767332100000000000,
                                  "v": 143398849
                              },
                              {
                                  "ts": 1767332160000000000,
                                  "v": 144229211
                              },
                              {
                                  "ts": 1767332220000000000,
                                  "v": 145242676
                              },
                              {
                                  "ts": 1767332280000000000,
                                  "v": 145938617
                              },
                              {
                                  "ts": 1767332340000000000,
                                  "v": 146891399
                              },
                              {
                                  "ts": 1767332400000000000,
                                  "v": 147452464
                              },
                              {
                                  "ts": 1767332460000000000,
                                  "v": 148069001
                              },
                              {
                                  "ts": 1767332520000000000,
                                  "v": 148763189
                              },
                              {
                                  "ts": 1767332580000000000,
                                  "v": 149469698
                              },
                              {
                                  "ts": 1767332640000000000,
                                  "v": 150271665
                              },
                              {
                                  "ts": 1767332700000000000,
                                  "v": 150784605
                              },
                              {
                                  "ts": 1767332760000000000,
                                  "v": 151352087
                              },
                              {
                                  "ts": 1767332820000000000,
                                  "v": 152088728
                              },
                              {
                                  "ts": 1767332880000000000,
                                  "v": 152678058
                              },
                              {
                                  "ts": 1767332940000000000,
                                  "v": 153210196
                              },
                              {
                                  "ts": 1767333000000000000,
                                  "v": 153790467
                              }
                          ],
                          "high": [
                              {
                                  "ts": 1767325500000000000,
                                  "v": 2617620
                              },
                              {
                                  "ts": 1767325560000000000,
                                  "v": 2618000
                              },
                              {
                                  "ts": 1767325620000000000,
                                  "v": 2617980
                              },
                              {
                                  "ts": 1767325680000000000,
                                  "v": 2617530
                              },
                              {
                                  "ts": 1767325740000000000,
                                  "v": 2618165
                              },
                              {
                                  "ts": 1767325800000000000,
                                  "v": 2618765
                              },
                              {
                                  "ts": 1767325860000000000,
                                  "v": 2618675
                              },
                              {
                                  "ts": 1767325920000000000,
                                  "v": 2619530
                              },
                              {
                                  "ts": 1767325980000000000,
                                  "v": 2620075
                              },
                              {
                                  "ts": 1767326040000000000,
                                  "v": 2620120
                              },
                              {
                                  "ts": 1767326100000000000,
                                  "v": 2619470
                              },
                              {
                                  "ts": 1767326160000000000,
                                  "v": 2619465
                              },
                              {
                                  "ts": 1767326220000000000,
                                  "v": 2620130
                              },
                              {
                                  "ts": 1767326280000000000,
                                  "v": 2620685
                              },
                              {
                                  "ts": 1767326340000000000,
                                  "v": 2620995
                              },
                              {
                                  "ts": 1767326400000000000,
                                  "v": 2620840
                              },
                              {
                                  "ts": 1767326460000000000,
                                  "v": 2620570
                              },
                              {
                                  "ts": 1767326520000000000,
                                  "v": 2621490
                              },
                              {
                                  "ts": 1767326580000000000,
                                  "v": 2621535
                              },
                              {
                                  "ts": 1767326640000000000,
                                  "v": 2620485
                              },
                              {
                                  "ts": 1767326700000000000,
                                  "v": 2620210
                              },
                              {
                                  "ts": 1767326760000000000,
                                  "v": 2620445
                              },
                              {
                                  "ts": 1767326820000000000,
                                  "v": 2620625
                              },
                              {
                                  "ts": 1767326880000000000,
                                  "v": 2620665
                              },
                              {
                                  "ts": 1767326940000000000,
                                  "v": 2621185
                              },
                              {
                                  "ts": 1767327000000000000,
                                  "v": 2621660
                              },
                              {
                                  "ts": 1767327060000000000,
                                  "v": 2623185
                              },
                              {
                                  "ts": 1767327120000000000,
                                  "v": 2624555
                              },
                              {
                                  "ts": 1767327180000000000,
                                  "v": 2624210
                              },
                              {
                                  "ts": 1767327240000000000,
                                  "v": 2624800
                              },
                              {
                                  "ts": 1767327300000000000,
                                  "v": 2625015
                              },
                              {
                                  "ts": 1767327360000000000,
                                  "v": 2625055
                              },
                              {
                                  "ts": 1767327420000000000,
                                  "v": 2625320
                              },
                              {
                                  "ts": 1767327480000000000,
                                  "v": 2625660
                              },
                              {
                                  "ts": 1767327540000000000,
                                  "v": 2625710
                              },
                              {
                                  "ts": 1767327600000000000,
                                  "v": 2625935
                              },
                              {
                                  "ts": 1767327660000000000,
                                  "v": 2626160
                              },
                              {
                                  "ts": 1767327720000000000,
                                  "v": 2626710
                              },
                              {
                                  "ts": 1767327780000000000,
                                  "v": 2626745
                              },
                              {
                                  "ts": 1767327840000000000,
                                  "v": 2627080
                              },
                              {
                                  "ts": 1767327900000000000,
                                  "v": 2626845
                              },
                              {
                                  "ts": 1767327960000000000,
                                  "v": 2626795
                              },
                              {
                                  "ts": 1767328020000000000,
                                  "v": 2626580
                              },
                              {
                                  "ts": 1767328080000000000,
                                  "v": 2626395
                              },
                              {
                                  "ts": 1767328140000000000,
                                  "v": 2625870
                              },
                              {
                                  "ts": 1767328200000000000,
                                  "v": 2625780
                              },
                              {
                                  "ts": 1767328260000000000,
                                  "v": 2625685
                              },
                              {
                                  "ts": 1767328320000000000,
                                  "v": 2626015
                              },
                              {
                                  "ts": 1767328380000000000,
                                  "v": 2626100
                              },
                              {
                                  "ts": 1767328440000000000,
                                  "v": 2625330
                              },
                              {
                                  "ts": 1767328500000000000,
                                  "v": 2625480
                              },
                              {
                                  "ts": 1767328560000000000,
                                  "v": 2625445
                              },
                              {
                                  "ts": 1767328620000000000,
                                  "v": 2625220
                              },
                              {
                                  "ts": 1767328680000000000,
                                  "v": 2624860
                              },
                              {
                                  "ts": 1767328740000000000,
                                  "v": 2624480
                              },
                              {
                                  "ts": 1767328800000000000,
                                  "v": 2624630
                              },
                              {
                                  "ts": 1767328860000000000,
                                  "v": 2624370
                              },
                              {
                                  "ts": 1767328920000000000,
                                  "v": 2624385
                              },
                              {
                                  "ts": 1767328980000000000,
                                  "v": 2624420
                              },
                              {
                                  "ts": 1767329040000000000,
                                  "v": 2625585
                              },
                              {
                                  "ts": 1767329100000000000,
                                  "v": 2626620
                              },
                              {
                                  "ts": 1767329160000000000,
                                  "v": 2626550
                              },
                              {
                                  "ts": 1767329220000000000,
                                  "v": 2626515
                              },
                              {
                                  "ts": 1767329280000000000,
                                  "v": 2625770
                              },
                              {
                                  "ts": 1767329340000000000,
                                  "v": 2625510
                              },
                              {
                                  "ts": 1767329400000000000,
                                  "v": 2625415
                              },
                              {
                                  "ts": 1767329460000000000,
                                  "v": 2625600
                              },
                              {
                                  "ts": 1767329520000000000,
                                  "v": 2625445
                              },
                              {
                                  "ts": 1767329580000000000,
                                  "v": 2625020
                              },
                              {
                                  "ts": 1767329640000000000,
                                  "v": 2625485
                              },
                              {
                                  "ts": 1767329700000000000,
                                  "v": 2625385
                              },
                              {
                                  "ts": 1767329760000000000,
                                  "v": 2625260
                              },
                              {
                                  "ts": 1767329820000000000,
                                  "v": 2625065
                              },
                              {
                                  "ts": 1767329880000000000,
                                  "v": 2625170
                              },
                              {
                                  "ts": 1767329940000000000,
                                  "v": 2625000
                              },
                              {
                                  "ts": 1767330000000000000,
                                  "v": 2624745
                              },
                              {
                                  "ts": 1767330060000000000,
                                  "v": 2624720
                              },
                              {
                                  "ts": 1767330120000000000,
                                  "v": 2624740
                              },
                              {
                                  "ts": 1767330180000000000,
                                  "v": 2624015
                              },
                              {
                                  "ts": 1767330240000000000,
                                  "v": 2624075
                              },
                              {
                                  "ts": 1767330300000000000,
                                  "v": 2624665
                              },
                              {
                                  "ts": 1767330360000000000,
                                  "v": 2625060
                              },
                              {
                                  "ts": 1767330420000000000,
                                  "v": 2625000
                              },
                              {
                                  "ts": 1767330480000000000,
                                  "v": 2625070
                              },
                              {
                                  "ts": 1767330540000000000,
                                  "v": 2625590
                              },
                              {
                                  "ts": 1767330600000000000,
                                  "v": 2625650
                              },
                              {
                                  "ts": 1767330660000000000,
                                  "v": 2625825
                              },
                              {
                                  "ts": 1767330720000000000,
                                  "v": 2625980
                              },
                              {
                                  "ts": 1767330780000000000,
                                  "v": 2625440
                              },
                              {
                                  "ts": 1767330840000000000,
                                  "v": 2625485
                              },
                              {
                                  "ts": 1767330900000000000,
                                  "v": 2625705
                              },
                              {
                                  "ts": 1767330960000000000,
                                  "v": 2625770
                              },
                              {
                                  "ts": 1767331020000000000,
                                  "v": 2626300
                              },
                              {
                                  "ts": 1767331080000000000,
                                  "v": 2626430
                              },
                              {
                                  "ts": 1767331140000000000,
                                  "v": 2626150
                              },
                              {
                                  "ts": 1767331200000000000,
                                  "v": 2626785
                              },
                              {
                                  "ts": 1767331260000000000,
                                  "v": 2626580
                              },
                              {
                                  "ts": 1767331320000000000,
                                  "v": 2626415
                              },
                              {
                                  "ts": 1767331380000000000,
                                  "v": 2626065
                              },
                              {
                                  "ts": 1767331440000000000,
                                  "v": 2626085
                              },
                              {
                                  "ts": 1767331500000000000,
                                  "v": 2626185
                              },
                              {
                                  "ts": 1767331560000000000,
                                  "v": 2625880
                              },
                              {
                                  "ts": 1767331620000000000,
                                  "v": 2625890
                              },
                              {
                                  "ts": 1767331680000000000,
                                  "v": 2625935
                              },
                              {
                                  "ts": 1767331740000000000,
                                  "v": 2626420
                              },
                              {
                                  "ts": 1767331800000000000,
                                  "v": 2626470
                              },
                              {
                                  "ts": 1767331860000000000,
                                  "v": 2626290
                              },
                              {
                                  "ts": 1767331920000000000,
                                  "v": 2626080
                              },
                              {
                                  "ts": 1767331980000000000,
                                  "v": 2625710
                              },
                              {
                                  "ts": 1767332040000000000,
                                  "v": 2625785
                              },
                              {
                                  "ts": 1767332100000000000,
                                  "v": 2626010
                              },
                              {
                                  "ts": 1767332160000000000,
                                  "v": 2625825
                              },
                              {
                                  "ts": 1767332220000000000,
                                  "v": 2625750
                              },
                              {
                                  "ts": 1767332280000000000,
                                  "v": 2625275
                              },
                              {
                                  "ts": 1767332340000000000,
                                  "v": 2625370
                              },
                              {
                                  "ts": 1767332400000000000,
                                  "v": 2625375
                              },
                              {
                                  "ts": 1767332460000000000,
                                  "v": 2625175
                              },
                              {
                                  "ts": 1767332520000000000,
                                  "v": 2625275
                              },
                              {
                                  "ts": 1767332580000000000,
                                  "v": 2625595
                              },
                              {
                                  "ts": 1767332640000000000,
                                  "v": 2625770
                              },
                              {
                                  "ts": 1767332700000000000,
                                  "v": 2625670
                              },
                              {
                                  "ts": 1767332760000000000,
                                  "v": 2625620
                              },
                              {
                                  "ts": 1767332820000000000,
                                  "v": 2625945
                              },
                              {
                                  "ts": 1767332880000000000,
                                  "v": 2626550
                              },
                              {
                                  "ts": 1767332940000000000,
                                  "v": 2626450
                              },
                              {
                                  "ts": 1767333000000000000,
                                  "v": 2626565
                              }
                          ],
                          "low": [
                              {
                                  "ts": 1767325500000000000,
                                  "v": 2612510
                              },
                              {
                                  "ts": 1767325560000000000,
                                  "v": 2616820
                              },
                              {
                                  "ts": 1767325620000000000,
                                  "v": 2616980
                              },
                              {
                                  "ts": 1767325680000000000,
                                  "v": 2616685
                              },
                              {
                                  "ts": 1767325740000000000,
                                  "v": 2616950
                              },
                              {
                                  "ts": 1767325800000000000,
                                  "v": 2617850
                              },
                              {
                                  "ts": 1767325860000000000,
                                  "v": 2618020
                              },
                              {
                                  "ts": 1767325920000000000,
                                  "v": 2618100
                              },
                              {
                                  "ts": 1767325980000000000,
                                  "v": 2619300
                              },
                              {
                                  "ts": 1767326040000000000,
                                  "v": 2619225
                              },
                              {
                                  "ts": 1767326100000000000,
                                  "v": 2618400
                              },
                              {
                                  "ts": 1767326160000000000,
                                  "v": 2618240
                              },
                              {
                                  "ts": 1767326220000000000,
                                  "v": 2618925
                              },
                              {
                                  "ts": 1767326280000000000,
                                  "v": 2619760
                              },
                              {
                                  "ts": 1767326340000000000,
                                  "v": 2620275
                              },
                              {
                                  "ts": 1767326400000000000,
                                  "v": 2619835
                              },
                              {
                                  "ts": 1767326460000000000,
                                  "v": 2619615
                              },
                              {
                                  "ts": 1767326520000000000,
                                  "v": 2620350
                              },
                              {
                                  "ts": 1767326580000000000,
                                  "v": 2620155
                              },
                              {
                                  "ts": 1767326640000000000,
                                  "v": 2619765
                              },
                              {
                                  "ts": 1767326700000000000,
                                  "v": 2619690
                              },
                              {
                                  "ts": 1767326760000000000,
                                  "v": 2619655
                              },
                              {
                                  "ts": 1767326820000000000,
                                  "v": 2620180
                              },
                              {
                                  "ts": 1767326880000000000,
                                  "v": 2620000
                              },
                              {
                                  "ts": 1767326940000000000,
                                  "v": 2620190
                              },
                              {
                                  "ts": 1767327000000000000,
                                  "v": 2621115
                              },
                              {
                                  "ts": 1767327060000000000,
                                  "v": 2621360
                              },
                              {
                                  "ts": 1767327120000000000,
                                  "v": 2623045
                              },
                              {
                                  "ts": 1767327180000000000,
                                  "v": 2623700
                              },
                              {
                                  "ts": 1767327240000000000,
                                  "v": 2623880
                              },
                              {
                                  "ts": 1767327300000000000,
                                  "v": 2624450
                              },
                              {
                                  "ts": 1767327360000000000,
                                  "v": 2624495
                              },
                              {
                                  "ts": 1767327420000000000,
                                  "v": 2624895
                              },
                              {
                                  "ts": 1767327480000000000,
                                  "v": 2625130
                              },
                              {
                                  "ts": 1767327540000000000,
                                  "v": 2625155
                              },
                              {
                                  "ts": 1767327600000000000,
                                  "v": 2625395
                              },
                              {
                                  "ts": 1767327660000000000,
                                  "v": 2625535
                              },
                              {
                                  "ts": 1767327720000000000,
                                  "v": 2626130
                              },
                              {
                                  "ts": 1767327780000000000,
                                  "v": 2626040
                              },
                              {
                                  "ts": 1767327840000000000,
                                  "v": 2626090
                              },
                              {
                                  "ts": 1767327900000000000,
                                  "v": 2626075
                              },
                              {
                                  "ts": 1767327960000000000,
                                  "v": 2625865
                              },
                              {
                                  "ts": 1767328020000000000,
                                  "v": 2626105
                              },
                              {
                                  "ts": 1767328080000000000,
                                  "v": 2625855
                              },
                              {
                                  "ts": 1767328140000000000,
                                  "v": 2625355
                              },
                              {
                                  "ts": 1767328200000000000,
                                  "v": 2625140
                              },
                              {
                                  "ts": 1767328260000000000,
                                  "v": 2625165
                              },
                              {
                                  "ts": 1767328320000000000,
                                  "v": 2625300
                              },
                              {
                                  "ts": 1767328380000000000,
                                  "v": 2625215
                              },
                              {
                                  "ts": 1767328440000000000,
                                  "v": 2624650
                              },
                              {
                                  "ts": 1767328500000000000,
                                  "v": 2624835
                              },
                              {
                                  "ts": 1767328560000000000,
                                  "v": 2624925
                              },
                              {
                                  "ts": 1767328620000000000,
                                  "v": 2624795
                              },
                              {
                                  "ts": 1767328680000000000,
                                  "v": 2624270
                              },
                              {
                                  "ts": 1767328740000000000,
                                  "v": 2623945
                              },
                              {
                                  "ts": 1767328800000000000,
                                  "v": 2623890
                              },
                              {
                                  "ts": 1767328860000000000,
                                  "v": 2624020
                              },
                              {
                                  "ts": 1767328920000000000,
                                  "v": 2623915
                              },
                              {
                                  "ts": 1767328980000000000,
                                  "v": 2624085
                              },
                              {
                                  "ts": 1767329040000000000,
                                  "v": 2624210
                              },
                              {
                                  "ts": 1767329100000000000,
                                  "v": 2625425
                              },
                              {
                                  "ts": 1767329160000000000,
                                  "v": 2626070
                              },
                              {
                                  "ts": 1767329220000000000,
                                  "v": 2625660
                              },
                              {
                                  "ts": 1767329280000000000,
                                  "v": 2624835
                              },
                              {
                                  "ts": 1767329340000000000,
                                  "v": 2624990
                              },
                              {
                                  "ts": 1767329400000000000,
                                  "v": 2625070
                              },
                              {
                                  "ts": 1767329460000000000,
                                  "v": 2625020
                              },
                              {
                                  "ts": 1767329520000000000,
                                  "v": 2624770
                              },
                              {
                                  "ts": 1767329580000000000,
                                  "v": 2624680
                              },
                              {
                                  "ts": 1767329640000000000,
                                  "v": 2624705
                              },
                              {
                                  "ts": 1767329700000000000,
                                  "v": 2624790
                              },
                              {
                                  "ts": 1767329760000000000,
                                  "v": 2624895
                              },
                              {
                                  "ts": 1767329820000000000,
                                  "v": 2624585
                              },
                              {
                                  "ts": 1767329880000000000,
                                  "v": 2624590
                              },
                              {
                                  "ts": 1767329940000000000,
                                  "v": 2624425
                              },
                              {
                                  "ts": 1767330000000000000,
                                  "v": 2624025
                              },
                              {
                                  "ts": 1767330060000000000,
                                  "v": 2624255
                              },
                              {
                                  "ts": 1767330120000000000,
                                  "v": 2623790
                              },
                              {
                                  "ts": 1767330180000000000,
                                  "v": 2623505
                              },
                              {
                                  "ts": 1767330240000000000,
                                  "v": 2623580
                              },
                              {
                                  "ts": 1767330300000000000,
                                  "v": 2623900
                              },
                              {
                                  "ts": 1767330360000000000,
                                  "v": 2624480
                              },
                              {
                                  "ts": 1767330420000000000,
                                  "v": 2624550
                              },
                              {
                                  "ts": 1767330480000000000,
                                  "v": 2624575
                              },
                              {
                                  "ts": 1767330540000000000,
                                  "v": 2624660
                              },
                              {
                                  "ts": 1767330600000000000,
                                  "v": 2624935
                              },
                              {
                                  "ts": 1767330660000000000,
                                  "v": 2625035
                              },
                              {
                                  "ts": 1767330720000000000,
                                  "v": 2625445
                              },
                              {
                                  "ts": 1767330780000000000,
                                  "v": 2625095
                              },
                              {
                                  "ts": 1767330840000000000,
                                  "v": 2625055
                              },
                              {
                                  "ts": 1767330900000000000,
                                  "v": 2625205
                              },
                              {
                                  "ts": 1767330960000000000,
                                  "v": 2625330
                              },
                              {
                                  "ts": 1767331020000000000,
                                  "v": 2625655
                              },
                              {
                                  "ts": 1767331080000000000,
                                  "v": 2625850
                              },
                              {
                                  "ts": 1767331140000000000,
                                  "v": 2625675
                              },
                              {
                                  "ts": 1767331200000000000,
                                  "v": 2626135
                              },
                              {
                                  "ts": 1767331260000000000,
                                  "v": 2626205
                              },
                              {
                                  "ts": 1767331320000000000,
                                  "v": 2625955
                              },
                              {
                                  "ts": 1767331380000000000,
                                  "v": 2625750
                              },
                              {
                                  "ts": 1767331440000000000,
                                  "v": 2625615
                              },
                              {
                                  "ts": 1767331500000000000,
                                  "v": 2625735
                              },
                              {
                                  "ts": 1767331560000000000,
                                  "v": 2625270
                              },
                              {
                                  "ts": 1767331620000000000,
                                  "v": 2625465
                              },
                              {
                                  "ts": 1767331680000000000,
                                  "v": 2625645
                              },
                              {
                                  "ts": 1767331740000000000,
                                  "v": 2625765
                              },
                              {
                                  "ts": 1767331800000000000,
                                  "v": 2626080
                              },
                              {
                                  "ts": 1767331860000000000,
                                  "v": 2625855
                              },
                              {
                                  "ts": 1767331920000000000,
                                  "v": 2625605
                              },
                              {
                                  "ts": 1767331980000000000,
                                  "v": 2625400
                              },
                              {
                                  "ts": 1767332040000000000,
                                  "v": 2625445
                              },
                              {
                                  "ts": 1767332100000000000,
                                  "v": 2625640
                              },
                              {
                                  "ts": 1767332160000000000,
                                  "v": 2625415
                              },
                              {
                                  "ts": 1767332220000000000,
                                  "v": 2625100
                              },
                              {
                                  "ts": 1767332280000000000,
                                  "v": 2624935
                              },
                              {
                                  "ts": 1767332340000000000,
                                  "v": 2624805
                              },
                              {
                                  "ts": 1767332400000000000,
                                  "v": 2624755
                              },
                              {
                                  "ts": 1767332460000000000,
                                  "v": 2624440
                              },
                              {
                                  "ts": 1767332520000000000,
                                  "v": 2624330
                              },
                              {
                                  "ts": 1767332580000000000,
                                  "v": 2625030
                              },
                              {
                                  "ts": 1767332640000000000,
                                  "v": 2625290
                              },
                              {
                                  "ts": 1767332700000000000,
                                  "v": 2625325
                              },
                              {
                                  "ts": 1767332760000000000,
                                  "v": 2625300
                              },
                              {
                                  "ts": 1767332820000000000,
                                  "v": 2625430
                              },
                              {
                                  "ts": 1767332880000000000,
                                  "v": 2625890
                              },
                              {
                                  "ts": 1767332940000000000,
                                  "v": 2626025
                              },
                              {
                                  "ts": 1767333000000000000,
                                  "v": 2626085
                              }
                          ],
                          "open": [
                              {
                                  "ts": 1767325500000000000,
                                  "v": 2615025
                              },
                              {
                                  "ts": 1767325560000000000,
                                  "v": 2617080
                              },
                              {
                                  "ts": 1767325620000000000,
                                  "v": 2616980
                              },
                              {
                                  "ts": 1767325680000000000,
                                  "v": 2617380
                              },
                              {
                                  "ts": 1767325740000000000,
                                  "v": 2617020
                              },
                              {
                                  "ts": 1767325800000000000,
                                  "v": 2618015
                              },
                              {
                                  "ts": 1767325860000000000,
                                  "v": 2618415
                              },
                              {
                                  "ts": 1767325920000000000,
                                  "v": 2618290
                              },
                              {
                                  "ts": 1767325980000000000,
                                  "v": 2619300
                              },
                              {
                                  "ts": 1767326040000000000,
                                  "v": 2619830
                              },
                              {
                                  "ts": 1767326100000000000,
                                  "v": 2619260
                              },
                              {
                                  "ts": 1767326160000000000,
                                  "v": 2618670
                              },
                              {
                                  "ts": 1767326220000000000,
                                  "v": 2618925
                              },
                              {
                                  "ts": 1767326280000000000,
                                  "v": 2619955
                              },
                              {
                                  "ts": 1767326340000000000,
                                  "v": 2620615
                              },
                              {
                                  "ts": 1767326400000000000,
                                  "v": 2620700
                              },
                              {
                                  "ts": 1767326460000000000,
                                  "v": 2620060
                              },
                              {
                                  "ts": 1767326520000000000,
                                  "v": 2620355
                              },
                              {
                                  "ts": 1767326580000000000,
                                  "v": 2621515
                              },
                              {
                                  "ts": 1767326640000000000,
                                  "v": 2620420
                              },
                              {
                                  "ts": 1767326700000000000,
                                  "v": 2619880
                              },
                              {
                                  "ts": 1767326760000000000,
                                  "v": 2619880
                              },
                              {
                                  "ts": 1767326820000000000,
                                  "v": 2620410
                              },
                              {
                                  "ts": 1767326880000000000,
                                  "v": 2620495
                              },
                              {
                                  "ts": 1767326940000000000,
                                  "v": 2620360
                              },
                              {
                                  "ts": 1767327000000000000,
                                  "v": 2621115
                              },
                              {
                                  "ts": 1767327060000000000,
                                  "v": 2621495
                              },
                              {
                                  "ts": 1767327120000000000,
                                  "v": 2623045
                              },
                              {
                                  "ts": 1767327180000000000,
                                  "v": 2623785
                              },
                              {
                                  "ts": 1767327240000000000,
                                  "v": 2623960
                              },
                              {
                                  "ts": 1767327300000000000,
                                  "v": 2624890
                              },
                              {
                                  "ts": 1767327360000000000,
                                  "v": 2624690
                              },
                              {
                                  "ts": 1767327420000000000,
                                  "v": 2624895
                              },
                              {
                                  "ts": 1767327480000000000,
                                  "v": 2625355
                              },
                              {
                                  "ts": 1767327540000000000,
                                  "v": 2625665
                              },
                              {
                                  "ts": 1767327600000000000,
                                  "v": 2625395
                              },
                              {
                                  "ts": 1767327660000000000,
                                  "v": 2625710
                              },
                              {
                                  "ts": 1767327720000000000,
                                  "v": 2626225
                              },
                              {
                                  "ts": 1767327780000000000,
                                  "v": 2626700
                              },
                              {
                                  "ts": 1767327840000000000,
                                  "v": 2626090
                              },
                              {
                                  "ts": 1767327900000000000,
                                  "v": 2626705
                              },
                              {
                                  "ts": 1767327960000000000,
                                  "v": 2626290
                              },
                              {
                                  "ts": 1767328020000000000,
                                  "v": 2626415
                              },
                              {
                                  "ts": 1767328080000000000,
                                  "v": 2626255
                              },
                              {
                                  "ts": 1767328140000000000,
                                  "v": 2625865
                              },
                              {
                                  "ts": 1767328200000000000,
                                  "v": 2625410
                              },
                              {
                                  "ts": 1767328260000000000,
                                  "v": 2625375
                              },
                              {
                                  "ts": 1767328320000000000,
                                  "v": 2625420
                              },
                              {
                                  "ts": 1767328380000000000,
                                  "v": 2625755
                              },
                              {
                                  "ts": 1767328440000000000,
                                  "v": 2625235
                              },
                              {
                                  "ts": 1767328500000000000,
                                  "v": 2625260
                              },
                              {
                                  "ts": 1767328560000000000,
                                  "v": 2625025
                              },
                              {
                                  "ts": 1767328620000000000,
                                  "v": 2624940
                              },
                              {
                                  "ts": 1767328680000000000,
                                  "v": 2624805
                              },
                              {
                                  "ts": 1767328740000000000,
                                  "v": 2624390
                              },
                              {
                                  "ts": 1767328800000000000,
                                  "v": 2624025
                              },
                              {
                                  "ts": 1767328860000000000,
                                  "v": 2624350
                              },
                              {
                                  "ts": 1767328920000000000,
                                  "v": 2624150
                              },
                              {
                                  "ts": 1767328980000000000,
                                  "v": 2624260
                              },
                              {
                                  "ts": 1767329040000000000,
                                  "v": 2624290
                              },
                              {
                                  "ts": 1767329100000000000,
                                  "v": 2625490
                              },
                              {
                                  "ts": 1767329160000000000,
                                  "v": 2626265
                              },
                              {
                                  "ts": 1767329220000000000,
                                  "v": 2626275
                              },
                              {
                                  "ts": 1767329280000000000,
                                  "v": 2625755
                              },
                              {
                                  "ts": 1767329340000000000,
                                  "v": 2625510
                              },
                              {
                                  "ts": 1767329400000000000,
                                  "v": 2625165
                              },
                              {
                                  "ts": 1767329460000000000,
                                  "v": 2625290
                              },
                              {
                                  "ts": 1767329520000000000,
                                  "v": 2625305
                              },
                              {
                                  "ts": 1767329580000000000,
                                  "v": 2624905
                              },
                              {
                                  "ts": 1767329640000000000,
                                  "v": 2624825
                              },
                              {
                                  "ts": 1767329700000000000,
                                  "v": 2625225
                              },
                              {
                                  "ts": 1767329760000000000,
                                  "v": 2624965
                              },
                              {
                                  "ts": 1767329820000000000,
                                  "v": 2625020
                              },
                              {
                                  "ts": 1767329880000000000,
                                  "v": 2624955
                              },
                              {
                                  "ts": 1767329940000000000,
                                  "v": 2624600
                              },
                              {
                                  "ts": 1767330000000000000,
                                  "v": 2624680
                              },
                              {
                                  "ts": 1767330060000000000,
                                  "v": 2624300
                              },
                              {
                                  "ts": 1767330120000000000,
                                  "v": 2624675
                              },
                              {
                                  "ts": 1767330180000000000,
                                  "v": 2623855
                              },
                              {
                                  "ts": 1767330240000000000,
                                  "v": 2623765
                              },
                              {
                                  "ts": 1767330300000000000,
                                  "v": 2623990
                              },
                              {
                                  "ts": 1767330360000000000,
                                  "v": 2624485
                              },
                              {
                                  "ts": 1767330420000000000,
                                  "v": 2624890
                              },
                              {
                                  "ts": 1767330480000000000,
                                  "v": 2624790
                              },
                              {
                                  "ts": 1767330540000000000,
                                  "v": 2624940
                              },
                              {
                                  "ts": 1767330600000000000,
                                  "v": 2625465
                              },
                              {
                                  "ts": 1767330660000000000,
                                  "v": 2625040
                              },
                              {
                                  "ts": 1767330720000000000,
                                  "v": 2625705
                              },
                              {
                                  "ts": 1767330780000000000,
                                  "v": 2625440
                              },
                              {
                                  "ts": 1767330840000000000,
                                  "v": 2625330
                              },
                              {
                                  "ts": 1767330900000000000,
                                  "v": 2625370
                              },
                              {
                                  "ts": 1767330960000000000,
                                  "v": 2625570
                              },
                              {
                                  "ts": 1767331020000000000,
                                  "v": 2625700
                              },
                              {
                                  "ts": 1767331080000000000,
                                  "v": 2626230
                              },
                              {
                                  "ts": 1767331140000000000,
                                  "v": 2625940
                              },
                              {
                                  "ts": 1767331200000000000,
                                  "v": 2626135
                              },
                              {
                                  "ts": 1767331260000000000,
                                  "v": 2626580
                              },
                              {
                                  "ts": 1767331320000000000,
                                  "v": 2626320
                              },
                              {
                                  "ts": 1767331380000000000,
                                  "v": 2625985
                              },
                              {
                                  "ts": 1767331440000000000,
                                  "v": 2625920
                              },
                              {
                                  "ts": 1767331500000000000,
                                  "v": 2625820
                              },
                              {
                                  "ts": 1767331560000000000,
                                  "v": 2625805
                              },
                              {
                                  "ts": 1767331620000000000,
                                  "v": 2625525
                              },
                              {
                                  "ts": 1767331680000000000,
                                  "v": 2625820
                              },
                              {
                                  "ts": 1767331740000000000,
                                  "v": 2625865
                              },
                              {
                                  "ts": 1767331800000000000,
                                  "v": 2626270
                              },
                              {
                                  "ts": 1767331860000000000,
                                  "v": 2626100
                              },
                              {
                                  "ts": 1767331920000000000,
                                  "v": 2626015
                              },
                              {
                                  "ts": 1767331980000000000,
                                  "v": 2625630
                              },
                              {
                                  "ts": 1767332040000000000,
                                  "v": 2625555
                              },
                              {
                                  "ts": 1767332100000000000,
                                  "v": 2625655
                              },
                              {
                                  "ts": 1767332160000000000,
                                  "v": 2625795
                              },
                              {
                                  "ts": 1767332220000000000,
                                  "v": 2625565
                              },
                              {
                                  "ts": 1767332280000000000,
                                  "v": 2625220
                              },
                              {
                                  "ts": 1767332340000000000,
                                  "v": 2624975
                              },
                              {
                                  "ts": 1767332400000000000,
                                  "v": 2625185
                              },
                              {
                                  "ts": 1767332460000000000,
                                  "v": 2625150
                              },
                              {
                                  "ts": 1767332520000000000,
                                  "v": 2624580
                              },
                              {
                                  "ts": 1767332580000000000,
                                  "v": 2625085
                              },
                              {
                                  "ts": 1767332640000000000,
                                  "v": 2625505
                              },
                              {
                                  "ts": 1767332700000000000,
                                  "v": 2625330
                              },
                              {
                                  "ts": 1767332760000000000,
                                  "v": 2625400
                              },
                              {
                                  "ts": 1767332820000000000,
                                  "v": 2625595
                              },
                              {
                                  "ts": 1767332880000000000,
                                  "v": 2626030
                              },
                              {
                                  "ts": 1767332940000000000,
                                  "v": 2626385
                              },
                              {
                                  "ts": 1767333000000000000,
                                  "v": 2626155
                              }
                          ]
                      }
                  }
              ]
          }
      ]
  }

    // Extract close values and timestamps
    const closeData = apiResponse.result[0].values[0].NIFTY.close;
    
    // Convert nanosecond timestamps to milliseconds (divide by 1,000,000)
    // Convert values: API stores prices as integers (e.g., 2617285 = 26172.85)
    // Adjust the divisor based on your API's value format
    const VALUE_DIVISOR = 100; // Adjust this based on your API format
    
    const processedData = closeData.map((item) => ({
      value: item.v / VALUE_DIVISOR, // Convert integer price to decimal
      timestamp: item.ts / 1000000, // Convert nanoseconds to milliseconds
    }));

    // Extract values and timestamps arrays for LineChart
    const apiData = processedData.map((item) => item.value);
    const apiTimestamps = processedData.map((item) => item.timestamp);

    // Parse market_time and set market hours
    // Market hours: 9:30 AM to 4:00 PM IST
    const marketTime = new Date(apiResponse.market_time);
    
    // Use the market_time date to set market hours for that day
    // For Indian markets: 9:30 AM to 4:00 PM IST
    // Note: Adjust timezone handling based on your API's timezone
    const marketDay = new Date(marketTime);
    marketDay.setHours(0, 0, 0, 0);
    
    const apiMarketStartTime = new Date(marketDay);
    apiMarketStartTime.setHours(9, 30, 0, 0);
    
    const apiMarketCloseTime = new Date(marketDay);
    apiMarketCloseTime.setHours(16, 0, 0, 0);
    
    // Alternative: Use first and last timestamp from data to determine market hours
    // This is useful if timestamps span the full market day
    if (apiTimestamps.length > 0) {
      const firstTimestamp = Math.min(...apiTimestamps);
      const lastTimestamp = Math.max(...apiTimestamps);
      const firstDate = new Date(firstTimestamp);
      const lastDate = new Date(lastTimestamp);
      
      // Set market hours based on data range, but extend to full market hours
      const dataStartDate = new Date(firstDate);
      dataStartDate.setHours(9, 30, 0, 0);
      const dataEndDate = new Date(lastDate);
      dataEndDate.setHours(16, 0, 0, 0);
      
      // Use the earlier of calculated start or market day start
      // Use the later of calculated end or market day end (to show empty space)
      apiMarketStartTime.setTime(Math.min(apiMarketStartTime.getTime(), dataStartDate.getTime()));
      apiMarketCloseTime.setTime(Math.max(apiMarketCloseTime.getTime(), dataEndDate.getTime()));
    }

    return {
      data: apiData,
      timestamps: apiTimestamps,
      marketStartTime: apiMarketStartTime,
      marketCloseTime: apiMarketCloseTime,
    };
  };

  const apiProcessedData = processApiResponse();

  return (
    <ScrollView style={styles.container}>
      <View style={styles.section}>
        <Text style={styles.title}>Line Chart Examples</Text>

        <View style={styles.chartContainer}>
          <Text style={styles.subtitle}>Price Chart with Market Hours (9:30 AM - 4:00 PM)</Text>
          <LineChart
            fontSource={require('../assets/fonts/Geist-Regular.ttf')}
            data={priceData}
            width={350}
            height={200}
            color="#4F8EF7"
            strokeWidth={3}
            showXAxis={true}
            showYAxis={true}
            xTickCount={5}
            yTickCount={7}
            labels={['1D', '1W', '1M', '3M', '1Y']}
            onLabelPress={(label) => {
              setSelectedLabel(label);
              console.log('Selected:', label);
            }}
            marketStartTime={marketStartTime}
            marketCloseTime={marketCloseTime}
            timestamps={priceTimestamps}
            showTooltip={true}
            tooltipPosition="top"
          />
        </View>

        <View style={styles.chartContainer}>
          <Text style={styles.subtitle}>Volume Chart with Market Hours</Text>
          <LineChart
            fontSource={require('../assets/fonts/Geist-Regular.ttf')}
            data={volumeData}
            width={350}
            height={200}
            color="#36A2EB"
            strokeWidth={2}
            persistHighlight={true}
            tooltipPosition="center"
            showXAxis={true}
            showYAxis={true}
            marketStartTime={marketStartTime}
            marketCloseTime={marketCloseTime}
            timestamps={volumeTimestamps}
          />
        </View>

        <View style={styles.chartContainer}>
          <Text style={styles.subtitle}>Trend Chart (50 points, no market hours)</Text>
          <LineChart
            fontSource={require('../assets/fonts/Geist-Regular.ttf')}
            data={trendData}
            width={350}
            height={200}
            color="#00FF88"
            strokeWidth={2.5}
            showXAxis={true}
            showYAxis={true}
            xTickCount={5}
            yTickCount={7}
          />
        </View>

        <View style={styles.chartContainer}>
          <Text style={styles.subtitle}>API Response Format Test (NIFTY Close)</Text>
          <Text style={styles.description}>
            Testing with real API response format: nanosecond timestamps converted to milliseconds
          </Text>
          <LineChart
            fontSource={require('../assets/fonts/Geist-Regular.ttf')}
            data={apiProcessedData.data}
            width={350}
            height={200}
            color="#FF6B6B"
            strokeWidth={1}
            showXAxis={true}
            showYAxis={true}
            xTickCount={5}
            yTickCount={7}
            marketStartTime={apiProcessedData.marketStartTime}
            marketCloseTime={apiProcessedData.marketCloseTime}
            timestamps={apiProcessedData.timestamps}
            showTooltip={true}
            tooltipPosition="top"
          />
        </View>
      </View>
    </ScrollView>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#f5f5f5',
  },
  section: {
    padding: 16,
  },
  title: {
    fontSize: 24,
    fontWeight: 'bold',
    marginBottom: 20,
    color: '#333',
  },
  subtitle: {
    fontSize: 16,
    fontWeight: '600',
    marginBottom: 12,
    color: '#666',
  },
  description: {
    fontSize: 12,
    marginBottom: 8,
    color: '#999',
    fontStyle: 'italic',
  },
  chartContainer: {
    marginBottom: 32,
    backgroundColor: '#fff',
    padding: 16,
    borderRadius: 8,
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 2 },
    shadowOpacity: 0.1,
    shadowRadius: 4,
    elevation: 3,
  },
  darkContainer: {
    backgroundColor: '#1a1a1a',
    borderRadius: 8,
    padding: 16,
  },
});

export default LineChartExample;

